{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "welcome": {
            "type": "string",
            "description": "游客进入直播间时发送的弹幕\n支持的变量: uid, uname等\n详见`blivedm.models.InteractWordMessage`"
        },
        "follow": {
            "type": "string",
            "description": "访客关注直播间时发送的弹幕\n支持的变量: uid, uname等\n详见`blivedm.models.InteractWordMessage`"
        },
        "gift": {
            "type": "string",
            "description": "收到礼物时发送的弹幕\n支持的变量: gift_name, num, uname, action, price, coin_type, total_coin等\n详见`blivedm.models.GiftMessage`",
            "default": "感谢${uname}赠送的${num}个${gift_name}"
        },
        "enable": {
            "type": "array",
            "description": "开启自动回复的类型",
            "uniqueItems": true,
            "items": {
                "type": "string",
                "enum": [
                    "welcome",
                    "gift",
                    "follow",
                    "keyword"
                ]
            },
            "default": []
        },
        "keyword": {
            "type": "array",
            "description": "关键词自动回复\n设置过多可能会对性能影响造成影响",
            "items": {
                "type": "object",
                "properties": {
                    "key": {
                        "description": "关键词或正则表达式",
                        "type": [
                            "string",
                            "array"
                        ],
                        "items": {
                            "type": "string"
                        },
                        "minLength": 1
                    },
                    "message": {
                        "type": "string",
                        "description": "回复的弹幕\n支持的变量: uid, uname, vip, svip, admin等\n详见``blivedm.models.DanmakuMessage"
                    },
                    "notify":{
                        "$ref": "./notify.json/definitions/on_event",
                        "description": "触发关键词时发送通知\n需在notify.when.on开启相关配置"
                    }
                },
                "required": [
                    "key",
                    "message"
                ]
            },
            "default": []
        }
    },
    "required": [
        "enable"
    ]
}
